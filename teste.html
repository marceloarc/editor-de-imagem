<html>
<head>
  <title>Title of the document</title>
</head>
<style>
    .editor-container {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background-color: rgba(0, 0, 0, 0.5); /* Transparente */
}

.mask {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
}

.mask::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1;
}

.mask::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80%;
  height: 80%;
  background: rgba(255, 255, 255, 1); /* Janela visível */
  border-radius: 10px; /* Você pode mudar para formas diferentes */
  z-index: 2;
  mix-blend-mode: lighten; /* Faz a área central transparente */
}

.image-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3; /* Abaixo do overlay */
}

#editable-image {
  display: block;
  max-width: 100%;
  max-height: 100%;
  mix-blend-mode: darken;
}
</style>
<body>
    <div class="editor-container">
        <div class="mask">
          <div class="image-wrapper">
            <img src="images/demo/camadas.png" alt="Imagem para editar" id="editable-image">
          </div>
        </div>
      </div>
</body>
<script>
    const image = document.getElementById("editable-image");
let scale = 1;
let translateX = 0;
let translateY = 0;

function applyTransform() {
  image.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
}

image.addEventListener("wheel", (e) => {
  e.preventDefault();
  const zoomFactor = 0.1;
  if (e.deltaY < 0) {
    scale += zoomFactor;
  } else if (scale > zoomFactor) {
    scale -= zoomFactor;
  }
  applyTransform();
});

let dragging = false;
let startX, startY;

image.addEventListener("mousedown", (e) => {
  dragging = true;
  startX = e.clientX - translateX;
  startY = e.clientY - translateY;
});

document.addEventListener("mousemove", (e) => {
  if (dragging) {
    translateX = e.clientX - startX;
    translateY = e.clientY - startY;
    applyTransform();
  }
});

document.addEventListener("mouseup", () => {
  dragging = false;
});
</script>
</html>
